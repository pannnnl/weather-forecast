{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Pan/Downloads/weather-forecast/weather-forecast/app/page.js"],"sourcesContent":["\"use client\"; // 標記為 Client Component，因為要用 useState 同 useEffect\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Image from \"next/image\";\r\nimport WeatherButton from \"../components/WeatherButton\";\r\n\r\nexport default function Home() {\r\n  const [weatherData, setWeatherData] = useState([]);\r\n  const [maxTemp, setMaxTemp] = useState(\"\");\r\n  const [minTemp, setMinTemp] = useState(\"\");\r\n  const [icon, setIcon] = useState(\"\");\r\n\r\n  // 喺組件載入時搵數據\r\n  useEffect(() => {\r\n    async function fetchWeather() {\r\n      try {\r\n        const res = await fetch(\"/api/weather\");\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          setWeatherData(data);\r\n        } else {\r\n          console.error(\"搵天氣數據失敗\");\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n    fetchWeather();\r\n  }, []);\r\n\r\n  // 處理按鈕點擊\r\n  const handleButtonClick = (maxTemp, minTemp, icon) => {\r\n    setMaxTemp(maxTemp);\r\n    setMinTemp(minTemp);\r\n    setIcon(icon);\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n      {/* 左邊：日期按鈕列表 */}\r\n      <div>\r\n        {weatherData.length > 0 ? (\r\n          weatherData.map((forecast, index) => (\r\n            <WeatherButton\r\n              key={index}\r\n              forecast={forecast}\r\n              onClick={handleButtonClick}\r\n            />\r\n          ))\r\n        ) : (\r\n          <p>載入中...</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* 右邊：天氣詳情 */}\r\n      <div className=\"text-center\">\r\n        {maxTemp && <p className=\"text-xl\">最高溫：{maxTemp}°C</p>}\r\n        {minTemp && <p className=\"text-xl\">最低溫：{minTemp}°C</p>}\r\n        {icon && (\r\n          <Image\r\n            src={`/png/pic${icon}.png`}\r\n            alt={`天氣圖標 ${icon}`}\r\n            width={100}\r\n            height={100}\r\n            className=\"mx-auto mt-4\"\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;;;;AAHA,cAAc,iDAAiD;;;;;AAMhD,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,YAAY;IACZ,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM;gBACxB,IAAI,IAAI,EAAE,EAAE;oBACV,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,eAAe;gBACjB,OAAO;oBACL,QAAQ,KAAK,CAAC;gBAChB;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC;YAChB;QACF;QACA;IACF,GAAG,EAAE;IAEL,SAAS;IACT,MAAM,oBAAoB,CAAC,SAAS,SAAS;QAC3C,WAAW;QACX,WAAW;QACX,QAAQ;IACV;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;0BACE,YAAY,MAAM,GAAG,IACpB,YAAY,GAAG,CAAC,CAAC,UAAU,sBACzB,8OAAC;wBAEC,UAAU;wBACV,SAAS;uBAFJ;;;;8CAMT,8OAAC;8BAAE;;;;;;;;;;;0BAKP,8OAAC;gBAAI,WAAU;;oBACZ,yBAAW,8OAAC;wBAAE,WAAU;;4BAAU;4BAAK;4BAAQ;;;;;;;oBAC/C,yBAAW,8OAAC;wBAAE,WAAU;;4BAAU;4BAAK;4BAAQ;;;;;;;oBAC/C,sBACC,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAK,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC;wBAC1B,KAAK,CAAC,KAAK,EAAE,MAAM;wBACnB,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;;;;;;;;AAMtB","debugId":null}}]
}